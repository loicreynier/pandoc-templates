% -- Options for packages loaded later ---------------------------------------

\PassOptionsToPackage{%
  unicode,%
  $for(hyperrefoptions)$,$hyperrefoptions$$endfor$}{hyperref}
\PassOptionsToPackage{hyphens}{url}

% -- Document class ----------------------------------------------------------

\documentclass[
$if(fontsize)$
  $fontsize$,
$endif$
$if(lang)$
  $babel-lang$,
$endif$
$if(papersize)$
  $papersize$paper,
$endif$
$for(classoption)$
  $classoption$$sep$,
$endfor$
]{beamer}

% -- Packages ----------------------------------------------------------------

\usepackage{hyperref}
\usepackage{graphicx}
\usepackage{xcolor}

$if(fontspec)$
\usepackage{fontspec}
$endif$

$if(phiso)$
\usepackage{phiso}
$else$
\usepackage{amsmath}
$endif$

$if(pgfplots)$
\usepackage{pgfplots}
$if(pgfplotsconfig)$
\input{$pgfplotsconfig$}
$endif$
$endif$

% -- Layout ------------------------------------------------------------------

\usepackage{caption}
\captionsetup[figure]{font=tiny,justification=centering}

% -- Theme -------------------------------------------------------------------

\usetheme[$for(themeoptions)$$themeoptions$$sep$,$endfor$]{metropolis}
\usefonttheme{professionalfonts}
$if(firamath)$
\setmainfont{FiraGO}[Scale = 1.0]
\setsansfont{FiraGO}
\setmathfont{Fira Math}
$endif(firamath)$
$if(pfgplots)$
\pgfplotsset{
  every axis/.append style={mlineplot},
  every axis plot/.append style={line width=1pt},
}
$endif$
\definecolor{plot0}{HTML}{6699CC}
\definecolor{plot1}{HTML}{DDCC77}
\definecolor{plot2}{HTML}{44AA99}
\definecolor{plot3}{HTML}{999933}

% -- Title page --------------------------------------------------------------

$if(title)$
\title{$title$$if(thanks)$\thanks{$thanks$}$endif$}
$endif$
$if(subtitle)$
\subtitle{$subtitle$}
$endif$
\author{$for(author)$$author$$sep$ \and $endfor$}
\date{$date$}
$if(institute)$
\institute{$for(institute)$$institute$$sep$ \and $endfor$}
$endif$
$if(titlegraphic)$
\titlegraphic{\includegraphics{$titlegraphic$}}
$endif$
$if(logo)$
\logo{\includegraphics{$logo$}}
$endif$

% -- Pandoc-specific macros --------------------------------------------------

$for(header-includes)$
$header-includes$
$endfor$

\providecommand{\tightlist}{%
  \setlength{\itemsep}{0pt}\setlength{\parskip}{0pt}}

$if(csl-refs)$
\newlength{\cslhangindent}
\setlength{\cslhangindent}{1.5em}
\newlength{\csllabelwidth}
\setlength{\csllabelwidth}{3em}
\newlength{\cslentryspacingunit} % times entry-spacing
\setlength{\cslentryspacingunit}{\parskip}
\newenvironment{CSLReferences}[2] % #1 hanging-ident, #2 entry spacing
  {% don't indent paragraphs
    \setlength{\parindent}{0pt}
    % turn on hanging indent if param 1 is 1
    \ifodd #1
    \let\oldpar\par
    \def\par{\hangindent=\cslhangindent\oldpar}
    \fi
    % set entry spacing
    \setlength{\parskip}{#2\cslentryspacingunit}
  }%
  {}
\usepackage{calc}
\newcommand{\CSLBlock}[1]{#1\hfill\break}
\newcommand{\CSLLeftMargin}[1]{\parbox[t]{\csllabelwidth}{#1}}
\newcommand{\CSLRightInline}[1]{\parbox[t]{\linewidth - \csllabelwidth}{#1}\break}
\newcommand{\CSLIndent}[1]{\hspace{\cslhangindent}#1}
$endif$

% -- Document ----------------------------------------------------------------

\begin{document}

\frame{\titlepage}

$body$

\end{document}
